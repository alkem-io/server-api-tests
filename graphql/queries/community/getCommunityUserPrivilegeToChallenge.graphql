query CommunityUserPrivilegesToChallenge(
  $spaceId: UUID_NAMEID!
  $challengeId: UUID_NAMEID!
  $includeDetails: Boolean = false
) {
  space(ID: $spaceId) {
    id
    challenge(ID: $challengeId) {
      id
      authorization {
        myPrivileges
      }
      profile {
        id
        displayName
      }
      community {
        id
        ...CommunityDetails @include(if: $includeDetails)
      }
    }
  }
}

fragment CommunityDetails on Community {
  id
  myMembershipStatus
  authorization {
    myPrivileges
  }
  communication {
    id
    authorization {
      myPrivileges
    }
  }
}
